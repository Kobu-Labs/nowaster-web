# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL connection details
POSTGRES_USER=devuser
POSTGRES_PASSWORD=devpass
POSTGRES_DB=devdb
POSTGRES_HOST=localhost
POSTGRES_PORT=5440

# Full database connection URL (auto-constructed from above vars)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
# Port and address for the backend server
BACKEND_PORT=4008
BACKEND_ADDRESS=localhost

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
# URL where the frontend is running (for CORS and OAuth redirects)
FRONTEND_URL=http://localhost:3000

# =============================================================================
# JWT CONFIGURATION
# =============================================================================
# IMPORTANT: JWT keys must be in a separate .env.keys file due to envy crate limitations
# The envy crate (used for parsing typed config structs) does not support multiline env vars,
# so JWT keys are loaded directly via std::env::var() and MUST be in .env.keys
#
# Create a .env.keys file with keys on a single line using \n for newlines:
# JWT_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEF...\n-----END PRIVATE KEY-----"
# JWT_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8A...\n-----END PUBLIC KEY-----"
#
# Generate keys with:
# openssl genrsa -out private.pem 2048
# openssl rsa -in private.pem -pubout -out public.pem

# =============================================================================
# OAUTH PROVIDERS
# =============================================================================

# -----------------------------------------------------------------------------
# Google OAuth
# -----------------------------------------------------------------------------
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here
GOOGLE_REDIRECT_URI=http://${BACKEND_ADDRESS}:${BACKEND_PORT}/api/auth/callback/google

# -----------------------------------------------------------------------------
# GitHub OAuth
# -----------------------------------------------------------------------------
GITHUB_CLIENT_ID=your_github_client_id_here
GITHUB_CLIENT_SECRET=your_github_client_secret_here
GITHUB_REDIRECT_URI=http://${BACKEND_ADDRESS}:${BACKEND_PORT}/api/auth/callback/github

# -----------------------------------------------------------------------------
# Discord OAuth
# -----------------------------------------------------------------------------
DISCORD_CLIENT_ID=your_discord_client_id_here
DISCORD_CLIENT_SECRET=your_discord_client_secret_here
DISCORD_REDIRECT_URI=http://${BACKEND_ADDRESS}:${BACKEND_PORT}/api/auth/callback/discord

# =============================================================================
# S3 STORAGE CONFIGURATION
# =============================================================================
# S3-compatible storage for database backups (MinIO for local dev, Railway/S3 for prod)
#
# Local Development (MinIO via docker-compose):
# AWS_S3_BUCKET_NAME=nowaster-backups
# AWS_DEFAULT_REGION=us-east-1
# AWS_ENDPOINT_URL=http://localhost:9000
# AWS_ACCESS_KEY_ID=minioadmin
# AWS_SECRET_ACCESS_KEY=minioadmin
#
# Production (Railway Bucket Storage or AWS S3):
# AWS_S3_BUCKET_NAME=your_bucket_name
# AWS_DEFAULT_REGION=us-east-1
# AWS_ENDPOINT_URL=https://your-railway-bucket-endpoint
# AWS_ACCESS_KEY_ID=your_access_key
# AWS_SECRET_ACCESS_KEY=your_secret_key

AWS_S3_BUCKET_NAME=nowaster-backups
AWS_DEFAULT_REGION=us-east-1
AWS_ENDPOINT_URL=http://localhost:9000
AWS_ACCESS_KEY_ID=minioadmin
AWS_SECRET_ACCESS_KEY=minioadmin
